<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>GRABAR CLIENTE</title>
		<meta charset="UTF-8">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	</head>
	<body>
		<div class="contanier mt-4">
			<div class="col-sem-6">
				<form th:action="@{/salvar}" th:object="${cliente}" onsubmit="return validarFormulario();">
					<div class="card">
						<div class="card-header">
							<h3>Datos del cliente</h3>
						</div>
						<div class="card-body">
							<div class="form-group">
								<label><b>ID</b></label>
								<input type ="text" th:field="*{Id}" class="form-control">
							</div>
							<div class="form-group">
								<label><b>NOMBRES</b></label>
								<input type ="text" th:field="*{Nombres}" class="form-control">
							</div>
							<div class="form-group">
								<label><b>APELLIDOS</b></label>
								<input type ="text" th:field="*{Apellidos}" class="form-control">
							</div>
							<div class="form-group">
								<label><b>CORREO</b></label>
								<input type ="text" th:field="*{correo}" class="form-control">
							</div>
							<div class="form-group">
								<label><b>FECHA DE NACIMIENTO</b></label>
								<input type ="text" th:field="*{fechNacimiento}" class="form-control">
							</div>
							<div class="form-group">
								<label><b>NRO. DNI</b></label>
								<input type ="text" th:field="*{dni}" class="form-control">
							</div>
							<div class="form-group">
								<label><b>ID CATEGORIA</b></label>
								<input type ="text" th:field="*{categoria}" class="form-control">
							</div>
							
						</div>
						<div class="card-footer">
							<input type="submit" value="Guardar" class="btn btn-success"/>
						</div>	
					</div>
					
				</form>		
			</div>	
		</div>
	</body>
	
	<script>
			function validarFormulario() {
				var nombre = document.getElementsByName("Nombres")[0].value;
			    var apellido = document.getElementsByName("Apellidos")[0].value;
			    var dni = document.getElementsByName("dni")[0].value;
			    var correo = document.getElementsByName("correo")[0].value;
			    var fecha = document.getElementsByName("fechNacimiento")[0].value;
				
				
				if (nombre.length < 3 || nombre.length > 30) {
					alert("Nombre debe tener entre 3 y 30 caracteres.");
					return false;
				}
				
				if (apellido.length < 3 || apellido.length > 30) {
					alert("Apellido debe tener entre 3 y 30 caracteres.");
					return false;
				}
				
				
				if (!/^\d{8}$/.test(dni)) {
					alert("DNI debe tener exactamente 8 dígitos.");
					return false;
				}
				
				
				if (!/^\S+@\S+\.\S+$/.test(correo)) {
					alert("Correo electrónico no es válido.");
					return false;
				}
				
				if (!/^\d{4}-\d{2}-\d{2}$/.test(fecha)) {
					alert("Formato de fecha incorrecto. Utilice 'yyyy-MM-dd'.");
					return false;
				}
				
				alert("REGISTRO EXITOSO");
		      return true;
			}
		</script>
		
</html>